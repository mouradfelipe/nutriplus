{"ast":null,"code":"var _jsxFileName = \"/home/omsf/Documentos/2.ITA/1. CES-28/3. Pratica/nutriplus/nutriplus_front/src/containers/Patients/Patients.js\";\nimport React, { Component } from \"react\";\nimport Patient from \"./Patient/Patient\";\nimport { Button } from \"semantic-ui-react\";\nimport Register from \"./Register/Register\";\nimport PatientRecord from \"./PatientRecord/PatientRecord\";\nimport { Route, Switch, NavLink } from \"react-router-dom\";\n\nclass Patients extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      patients: null,\n      error: null\n    };\n\n    this.componentDidMount = async () => {\n      const res = await fetch(\"http://localhost:8080/patients/get-all-patients/\", {\n        method: \"get\",\n        headers: new Headers({\n          Authorization: \"Port \" + localStorage.getItem(\"stored_token\")\n        })\n      });\n      const answ = await res;\n      const info = await answ.json();\n\n      if (answ.status === 400) {\n        this.setState({\n          error: \"Houve algum problema ao tentar carregar os pacientes!\"\n        });\n        console.log(answ);\n        console.log(info);\n      } else if (answ.status === 200) {\n        this.setState({\n          patients: info.results,\n          error: null\n        });\n        console.log(info);\n      } else if (answ.status === 401) {\n        this.setState({\n          error: \"A sua sessão expirou! Por favor dê logout e login de novo.\"\n        });\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/pacientes/register\",\n      render: props => React.createElement(Register, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/pacientes/:id/criar-ficha\",\n      render: props => React.createElement(PatientRecord, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/pacientes/:id\",\n      render: props => React.createElement(Patient, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/pacientes\",\n      exact: true,\n      render: () => React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"teal\",\n        size: \"small\",\n        onClick: () => this.props.history.push(\"/pacientes/register\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Registrar paciente\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, this.state.patients ? this.state.patients.map(patient => React.createElement(\"li\", {\n        key: patient.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/pacientes/\" + patient.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, patient.name))) : null), this.state.error ? React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, this.state.error) : null),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Patients;","map":{"version":3,"sources":["/home/omsf/Documentos/2.ITA/1. CES-28/3. Pratica/nutriplus/nutriplus_front/src/containers/Patients/Patients.js"],"names":["React","Component","Patient","Button","Register","PatientRecord","Route","Switch","NavLink","Patients","state","patients","error","componentDidMount","res","fetch","method","headers","Headers","Authorization","localStorage","getItem","answ","info","json","status","setState","console","log","results","render","props","history","push","map","patient","id","name"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Patient from \"./Patient/Patient\";\nimport { Button } from \"semantic-ui-react\";\nimport Register from \"./Register/Register\";\nimport PatientRecord from \"./PatientRecord/PatientRecord\";\nimport { Route, Switch, NavLink } from \"react-router-dom\";\n\nclass Patients extends Component {\n  state = { patients: null, error: null };\n\n  componentDidMount = async () => {\n    const res = await fetch(\n      \"http://localhost:8080/patients/get-all-patients/\",\n      {\n        method: \"get\",\n        headers: new Headers({\n          Authorization: \"Port \" + localStorage.getItem(\"stored_token\")\n        })\n      }\n    );\n    const answ = await res;\n    const info = await answ.json();\n    if (answ.status === 400) {\n      this.setState({\n        error: \"Houve algum problema ao tentar carregar os pacientes!\"\n      });\n      console.log(answ);\n      console.log(info);\n    } else if (answ.status === 200) {\n      this.setState({ patients: info.results, error: null });\n      console.log(info);\n    } else if (answ.status === 401) {\n      this.setState({\n        error: \"A sua sessão expirou! Por favor dê logout e login de novo.\"\n      });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <Switch>\n          <Route\n            path=\"/pacientes/register\"\n            render={props => <Register {...props} />}\n          />\n          <Route\n            exact\n            path=\"/pacientes/:id/criar-ficha\"\n            render={props => <PatientRecord {...props} />}\n          />\n          <Route\n            exact\n            path=\"/pacientes/:id\"\n            render={props => <Patient {...props} />}\n          />\n          <Route\n            path=\"/pacientes\"\n            exact\n            render={() => (\n              <div>\n                <Button\n                  color=\"teal\"\n                  size=\"small\"\n                  onClick={() => this.props.history.push(\"/pacientes/register\")}\n                >\n                  Registrar paciente\n                </Button>\n                <br />\n                <ul>\n                  {this.state.patients\n                    ? this.state.patients.map(patient => (\n                        <li key={patient.id}>\n                          <NavLink to={\"/pacientes/\" + patient.id}>\n                            {patient.name}\n                          </NavLink>\n                        </li>\n                      ))\n                    : null}\n                </ul>\n                {this.state.error ? <p>{this.state.error}</p> : null}\n              </div>\n            )}\n          />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default Patients;\n"]},"metadata":{},"sourceType":"module"}