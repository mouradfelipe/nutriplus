{"ast":null,"code":"var _jsxFileName = \"/home/omsf/Documentos/2.ITA/1. CES-28/3. Pratica/nutriplus/nutriplus_front/src/components/FoodSuggestions/FoodSuggestions.jsx\";\nimport React, { Component } from \"react\";\nimport Refeicao from \"./Refeicao\";\nimport TabelaRefeicoes from \"./TabelaRefeicoes\";\nimport Infos from \"./Infos\";\nimport { Grid, Button } from \"semantic-ui-react\";\nconst atributos = [\"proteinas\", \"gorduras\"];\nconst COMIDAS = {\n  DISPONIVEIS: [\"sushi\", \"abacaxi\", \"pimentao\"]\n};\n\nclass Cardapio extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {};\n\n    this.componentDidMount = async () => {\n      this.setState({\n        refeicao: 0,\n        valorNutricional: [[\"proteinas\", 0], [\"gorduras\", 0]],\n        cardapios: [[], [], [], [], [], []],\n        factors: [this.initializeFactors(), this.initializeFactors(), this.initializeFactors(), this.initializeFactors(), this.initializeFactors(), this.initializeFactors()]\n      });\n      let token = localStorage.getItem(\"stored_token\");\n      const res = await fetch(\"http://localhost:8080/foods/list-foods/\", {\n        method: \"get\",\n        headers: new Headers({\n          Authorization: \"Port \" + token,\n          \"Content-Type\": \"application/json\"\n        })\n      });\n      console.log(res);\n      const info = await res.json();\n      console.log(info); //if (info[0]) this.setState({ res: info[0].food_name });\n\n      this.setState({\n        mounted: 1\n      });\n    };\n\n    this.initializeFactors = () => {\n      let factors = {};\n      COMIDAS.DISPONIVEIS.map(comida => {\n        factors[comida] = 1;\n      });\n      return factors;\n    };\n\n    this.handleTransicaoRefeicao = (e, {\n      name,\n      value\n    }) => {\n      if (name === \"Next\") this.setState(prevState => ({\n        refeicao: prevState.refeicao + 1\n      }));else if (name === \"Prev\") this.setState(prevState => {\n        if (prevState.refeicao > 0) return {\n          refeicao: prevState.refeicao - 1\n        };else return {\n          refeicao: 0\n        };\n      });else if (name === \"Infos\") {\n        this.setState({\n          refeicao: value\n        });\n      }\n    };\n\n    this.handleCardapios = (refeicao, cardapio) => {\n      this.setState(prevState => {\n        const cardapios = prevState.cardapios.map((item, j) => {\n          if (j === refeicao) {\n            return cardapio;\n          } else {\n            return item;\n          }\n        });\n        return {\n          cardapios: cardapios\n        };\n      });\n    };\n\n    this.handleFactors = (refeicao, factors_local) => {\n      this.setState(prevState => {\n        const factors = prevState.factors.map((item, j) => {\n          if (j === refeicao) {\n            return factors_local;\n          } else {\n            return item;\n          }\n        });\n        return {\n          factors: factors\n        };\n      });\n    };\n\n    this.handleInfos = valorNutricional => {\n      this.setState({\n        valorNutricional: valorNutricional\n      });\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          refeicao = _this$state.refeicao,\n          valorNutricional = _this$state.valorNutricional,\n          cardapios = _this$state.cardapios,\n          factors = _this$state.factors;\n    const COMIDAS = {\n      DISPONIVEIS: [\"sushi\", \"abacaxi\", \"pimentao\"]\n    };\n\n    if (refeicao >= 6) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \" fim \");\n    }\n\n    if (this.state.mounted) return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(Grid.Column, {\n      width: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(TabelaRefeicoes, {\n      handleRefeicao: this.handleTransicaoRefeicao,\n      refeicao: refeicao,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    })), React.createElement(Grid.Column, {\n      width: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Infos, {\n      valorNutricional: valorNutricional,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }))), React.createElement(Grid.Column, {\n      width: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(Refeicao, {\n      refeicao: refeicao,\n      COMIDAS: COMIDAS.DISPONIVEIS,\n      cardapios: cardapios,\n      handleCardapios: this.handleCardapios,\n      atributos: atributos,\n      handleInfos: this.handleInfos,\n      factors: factors,\n      handleFactors: this.handleFactors,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }), React.createElement(Grid, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(Grid.Column, {\n      floated: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(Button, {\n      name: \"Prev\",\n      onClick: this.handleTransicaoRefeicao,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Prev\")), React.createElement(Grid.Column, {\n      floated: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(Button, {\n      name: \"Next\",\n      onClick: this.handleTransicaoRefeicao,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Next\"))))));else return \"\";\n  }\n\n}\n\nexport default Cardapio;","map":{"version":3,"sources":["/home/omsf/Documentos/2.ITA/1. CES-28/3. Pratica/nutriplus/nutriplus_front/src/components/FoodSuggestions/FoodSuggestions.jsx"],"names":["React","Component","Refeicao","TabelaRefeicoes","Infos","Grid","Button","atributos","COMIDAS","DISPONIVEIS","Cardapio","state","componentDidMount","setState","refeicao","valorNutricional","cardapios","factors","initializeFactors","token","localStorage","getItem","res","fetch","method","headers","Headers","Authorization","console","log","info","json","mounted","map","comida","handleTransicaoRefeicao","e","name","value","prevState","handleCardapios","cardapio","item","j","handleFactors","factors_local","handleInfos","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Refeicao from \"./Refeicao\";\nimport TabelaRefeicoes from \"./TabelaRefeicoes\";\nimport Infos from \"./Infos\";\nimport { Grid, Button } from \"semantic-ui-react\";\n\nconst atributos = [\"proteinas\", \"gorduras\"];\nconst COMIDAS = {\n  DISPONIVEIS: [\"sushi\", \"abacaxi\", \"pimentao\"]\n};\n\nclass Cardapio extends Component {\n  state = {};\n\n  componentDidMount = async () => {\n    this.setState({\n      refeicao: 0,\n      valorNutricional: [[\"proteinas\", 0], [\"gorduras\", 0]],\n      cardapios: [[], [], [], [], [], []],\n      factors: [\n        this.initializeFactors(),\n        this.initializeFactors(),\n        this.initializeFactors(),\n        this.initializeFactors(),\n        this.initializeFactors(),\n        this.initializeFactors()\n      ]\n    });\n\n    let token = localStorage.getItem(\"stored_token\");\n    const res = await fetch(\"http://localhost:8080/foods/list-foods/\", {\n      method: \"get\",\n      headers: new Headers({\n        Authorization: \"Port \" + token,\n        \"Content-Type\": \"application/json\"\n      })\n    });\n    console.log(res);\n    const info = await res.json();\n    console.log(info);\n    //if (info[0]) this.setState({ res: info[0].food_name });\n    this.setState({\n      mounted: 1\n    });\n  };\n\n  initializeFactors = () => {\n    let factors = {};\n    COMIDAS.DISPONIVEIS.map(comida => {\n      factors[comida] = 1;\n    });\n    return factors;\n  };\n\n  handleTransicaoRefeicao = (e, { name, value }) => {\n    if (name === \"Next\")\n      this.setState(prevState => ({ refeicao: prevState.refeicao + 1 }));\n    else if (name === \"Prev\")\n      this.setState(prevState => {\n        if (prevState.refeicao > 0) return { refeicao: prevState.refeicao - 1 };\n        else return { refeicao: 0 };\n      });\n    else if (name === \"Infos\") {\n      this.setState({\n        refeicao: value\n      });\n    }\n  };\n\n  handleCardapios = (refeicao, cardapio) => {\n    this.setState(prevState => {\n      const cardapios = prevState.cardapios.map((item, j) => {\n        if (j === refeicao) {\n          return cardapio;\n        } else {\n          return item;\n        }\n      });\n      return { cardapios: cardapios };\n    });\n  };\n\n  handleFactors = (refeicao, factors_local) => {\n    this.setState(prevState => {\n      const factors = prevState.factors.map((item, j) => {\n        if (j === refeicao) {\n          return factors_local;\n        } else {\n          return item;\n        }\n      });\n      return { factors: factors };\n    });\n  };\n\n  handleInfos = valorNutricional => {\n    this.setState({ valorNutricional: valorNutricional });\n  };\n\n  render() {\n    const { refeicao, valorNutricional, cardapios, factors } = this.state;\n\n    const COMIDAS = {\n      DISPONIVEIS: [\"sushi\", \"abacaxi\", \"pimentao\"]\n    };\n    if (refeicao >= 6) {\n      return <div> fim </div>;\n    }\n    if (this.state.mounted)\n      return (\n        <div>\n          <Grid>\n            <Grid.Column width={2}>\n              <TabelaRefeicoes\n                handleRefeicao={this.handleTransicaoRefeicao}\n                refeicao={refeicao}\n              ></TabelaRefeicoes>\n            </Grid.Column>\n            <Grid.Column width={3}>\n              <h4>\n                <Infos valorNutricional={valorNutricional}></Infos>\n              </h4>\n            </Grid.Column>\n            <Grid.Column width={8}>\n              <Refeicao\n                refeicao={refeicao}\n                COMIDAS={COMIDAS.DISPONIVEIS}\n                cardapios={cardapios}\n                handleCardapios={this.handleCardapios}\n                atributos={atributos}\n                handleInfos={this.handleInfos}\n                factors={factors}\n                handleFactors={this.handleFactors}\n              ></Refeicao>\n              <br></br>\n              <br></br>\n              <Grid>\n                <Grid.Column floated=\"left\">\n                  <Button name={\"Prev\"} onClick={this.handleTransicaoRefeicao}>\n                    Prev\n                  </Button>\n                </Grid.Column>\n                <Grid.Column floated=\"right\">\n                  <Button name={\"Next\"} onClick={this.handleTransicaoRefeicao}>\n                    Next\n                  </Button>\n                </Grid.Column>\n              </Grid>\n            </Grid.Column>\n          </Grid>\n        </div>\n      );\n    else return \"\";\n  }\n}\n\nexport default Cardapio;\n"]},"metadata":{},"sourceType":"module"}