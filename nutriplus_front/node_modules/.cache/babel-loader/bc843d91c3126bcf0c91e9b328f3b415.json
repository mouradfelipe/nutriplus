{"ast":null,"code":"var _jsxFileName = \"/home/omsf/Documentos/2.ITA/1. CES-28/3. Pratica/nutriplus/nutriplus_front/src/containers/Patients/Patient/Patient.js\";\nimport React, { Component } from \"react\";\nimport { Button } from \"semantic-ui-react\";\nimport { NavLink } from \"react-router-dom\";\n\nclass Patient extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      records: null,\n      info: null,\n      error: null\n    };\n\n    this.componentDidMount = async () => {\n      const params = this.props.match.params;\n      const res = await fetch(\"http://localhost:8080/patients/get-info/\" + params[\"id\"] + \"/\", {\n        method: \"get\",\n        headers: new Headers({\n          Authorization: \"Port \" + localStorage.getItem(\"stored_token\")\n        })\n      });\n      const info = await res.json();\n\n      if (res.status === 400) {\n        this.setState({\n          error: \"Houve algum problema ao tentar carregar os dados do paciente!\"\n        });\n        console.log(res);\n        console.log(info);\n      } else if (res.status === 200) {\n        this.setState({\n          info: info\n        });\n        console.log(info);\n      } else if (res.status === 401) {\n        console.log(res);\n        this.setState({\n          error: \"A sua sessão expirou! Por favor dê logout e login de novo.\"\n        });\n      }\n    };\n  }\n\n  render() {\n    const params = this.props.match.params;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, this.state.error ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, this.state.error) : null, this.state.info ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, this.state.info.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"Data de nascimento: \", this.state.info.date_of_birth), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Restri\\xE7\\xF5es alimentares:\", \" \", this.state.info.food_restrictions.length === 0 ? \"Não há\" : this.state.info.food_restrictions), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Prefer\\xEAncias alimentares: \", this.state.info.food_choices)) : null, React.createElement(Button, {\n      color: \"teal\",\n      size: \"small\",\n      onClick: () => this.props.history.push(\"/pacientes/\" + params[\"id\"] + \"/criar-ficha\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Criar ficha para o paciente\"), this.state.records ? React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, this.state.records.map(record => React.createElement(\"li\", {\n      key: record.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      to: \"/pacientes/\" + params[\"id\"] + \"/ficha/\" + record.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, record.id)))) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"N\\xE3o h\\xE1 fichas para esse paciente!\"));\n  }\n\n}\n\nexport default Patient;","map":{"version":3,"sources":["/home/omsf/Documentos/2.ITA/1. CES-28/3. Pratica/nutriplus/nutriplus_front/src/containers/Patients/Patient/Patient.js"],"names":["React","Component","Button","NavLink","Patient","state","records","info","error","componentDidMount","params","props","match","res","fetch","method","headers","Headers","Authorization","localStorage","getItem","json","status","setState","console","log","render","name","date_of_birth","food_restrictions","length","food_choices","history","push","map","record","id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Button } from \"semantic-ui-react\";\nimport { NavLink } from \"react-router-dom\";\n\nclass Patient extends Component {\n  state = { records: null, info: null, error: null };\n\n  componentDidMount = async () => {\n    const params = this.props.match.params;\n    const res = await fetch(\n      \"http://localhost:8080/patients/get-info/\" + params[\"id\"] + \"/\",\n      {\n        method: \"get\",\n        headers: new Headers({\n          Authorization: \"Port \" + localStorage.getItem(\"stored_token\")\n        })\n      }\n    );\n    const info = await res.json();\n    if (res.status === 400) {\n      this.setState({\n        error: \"Houve algum problema ao tentar carregar os dados do paciente!\"\n      });\n      console.log(res);\n      console.log(info);\n    } else if (res.status === 200) {\n      this.setState({ info: info });\n      console.log(info);\n    } else if (res.status === 401) {\n      console.log(res);\n      this.setState({\n        error: \"A sua sessão expirou! Por favor dê logout e login de novo.\"\n      });\n    }\n  };\n\n  render() {\n    const params = this.props.match.params;\n    return (\n      <div>\n        {this.state.error ? <p>{this.state.error}</p> : null}\n        {this.state.info ? (\n          <div>\n            <h3>{this.state.info.name}</h3>\n            <p>Data de nascimento: {this.state.info.date_of_birth}</p>\n            <p>\n              Restrições alimentares:{\" \"}\n              {this.state.info.food_restrictions.length === 0\n                ? \"Não há\"\n                : this.state.info.food_restrictions}\n            </p>\n            <p>Preferências alimentares: {this.state.info.food_choices}</p>\n          </div>\n        ) : null}\n        <Button\n          color=\"teal\"\n          size=\"small\"\n          onClick={() =>\n            this.props.history.push(\n              \"/pacientes/\" + params[\"id\"] + \"/criar-ficha\"\n            )\n          }\n        >\n          Criar ficha para o paciente\n        </Button>\n        {this.state.records ? (\n          <ul>\n            {this.state.records.map(record => (\n              <li key={record.id}>\n                <NavLink\n                  to={\"/pacientes/\" + params[\"id\"] + \"/ficha/\" + record.id}\n                >\n                  {record.id}\n                </NavLink>\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p>Não há fichas para esse paciente!</p>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Patient;\n"]},"metadata":{},"sourceType":"module"}