{"ast":null,"code":"var _jsxFileName = \"/home/omsf/Documentos/2.ITA/1. CES-28/3. Pratica/nutriplus/nutriplus_front/src/components/FoodSuggestions/Refeicao.jsx\";\nimport React, { Component } from \"react\";\nimport { Table, Segment, Button, Icon, Input } from \"semantic-ui-react\";\nconst refeicaoMap = {\n  0: \"Café da manhã\",\n  1: \"Lanche da manhã\",\n  2: \"Almoço\",\n  3: \"Lanche da tarde\",\n  4: \"Jantar\",\n  5: \"Lanche da noite\"\n};\nconst atributos_map = {\n  \"Valor Energético (kCal)\": \"calories\",\n  Carboidratos: \"carbohydrates\",\n  Proteínas: \"proteins\",\n  Lipídios: \"lipids\"\n};\n/*\nconst foodmap = {\n  sushi: {\n    proteinas: 10,\n    gorduras: 50\n  },\n  abacaxi: {\n    proteinas: 1,\n    gorduras: 5\n  },\n  pimentao: {\n    proteinas: 0,\n    gorduras: 40\n  }\n};\n*/\n\nclass Refeicao extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      Disponiveis: [],\n      Cardapio: []\n    };\n\n    this.componentDidMount = () => {\n      this.setState({\n        Disponiveis: this.comidas_restantes(this.props.COMIDAS, this.props.cardapios[this.props.refeicao]),\n        Cardapio: this.props.cardapios[this.props.refeicao],\n        valorNutricional: this.calcula_VN(this.props.cardapios[this.props.refeicao]),\n        factors: this.props.factors[this.props.refeicao]\n      });\n    };\n\n    this.comidas_restantes = (comidas, cardapio) => {\n      cardapio.map(comida => {\n        var index = comidas.indexOf(comida);\n\n        if (index > -1) {\n          comidas.splice(index, 1);\n        }\n      });\n      return comidas;\n    };\n\n    this.calcula_VN = cardapio => {\n      let valorNutricional;\n      let factors = this.props.factors[this.props.refeicao];\n      let atributos = this.props.atributos;\n      atributos.map(atributo => {\n        let vn_val = 0;\n        cardapio.map(comida => {\n          vn_val = vn_val + comida[atributos_map[atributo]] * factors[comida.food_name];\n        });\n        let vn = [atributo, vn_val];\n        if (valorNutricional) valorNutricional.push(vn);else valorNutricional = [vn];\n      });\n      return valorNutricional;\n    };\n\n    this.calcula_VNs_i = (cardapio, index) => {\n      let valorNutricional;\n      let factors = this.props.factors[index];\n      let atributos = this.props.atributos;\n      atributos.map(atributo => {\n        let vn_val = 0;\n        cardapio.map(comida => {\n          vn_val = vn_val + comida[atributos_map[atributo]] * factors[comida.food_name];\n        });\n        let vn = [atributo, vn_val];\n        if (valorNutricional) valorNutricional.push(vn);else valorNutricional = [vn];\n      });\n      return valorNutricional;\n    };\n\n    this.calcula_VNs = cardapios => {\n      let valorNutricional;\n      cardapios.map((cardapio, index) => {\n        if (valorNutricional) valorNutricional = this.somaAtributos(valorNutricional, this.calcula_VNs_i(cardapio, index));else valorNutricional = this.calcula_VNs_i(cardapio, index);\n      });\n      this.props.handleInfos(valorNutricional);\n    };\n\n    this.somaAtributos = (valorNutricional1, valorNutricional2) => {\n      for (let i = 0; i < this.props.atributos.length; i++) {\n        valorNutricional1[i][1] = valorNutricional1[i][1] + valorNutricional2[i][1];\n      }\n\n      return valorNutricional1;\n    };\n\n    this.componentDidUpdate = prevProps => {\n      if (prevProps.refeicao !== this.props.refeicao) {\n        this.setState({\n          Disponiveis: this.comidas_restantes(this.props.COMIDAS, this.props.cardapios[this.props.refeicao]),\n          Cardapio: this.props.cardapios[this.props.refeicao],\n          valorNutricional: this.calcula_VN(this.props.cardapios[this.props.refeicao]),\n          factors: this.props.factors[this.props.refeicao]\n        });\n      }\n    };\n\n    this.handleCardapio = cardapio => {\n      this.setState({\n        valorNutricional: this.calcula_VN(cardapio)\n      });\n    };\n\n    this.generateTable = () => {\n      let Disponiveis = this.state.Disponiveis;\n      let Cardapio = this.state.Cardapio;\n\n      if (Disponiveis || Cardapio) {\n        let TableDisponiveis = Disponiveis.map(food => {\n          return React.createElement(Segment.Group, {\n            compact: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 148\n            },\n            __self: this\n          }, React.createElement(Segment, {\n            inverted: true,\n            color: \"green\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 149\n            },\n            __self: this\n          }, React.createElement(\"center\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 150\n            },\n            __self: this\n          }, food.food_name)), React.createElement(Button.Group, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 152\n            },\n            __self: this\n          }, React.createElement(Button, {\n            disabled: true,\n            icon: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 153\n            },\n            __self: this\n          }, React.createElement(Icon, {\n            name: \"angle double left\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 154\n            },\n            __self: this\n          })), React.createElement(Button, {\n            food: food,\n            type: \"Disponiveis\",\n            onClick: this.handleItemClick,\n            icon: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157\n            },\n            __self: this\n          }, React.createElement(Icon, {\n            name: \"angle double right\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 163\n            },\n            __self: this\n          }))));\n        });\n        let TableCardapio = Cardapio.map(food => {\n          return React.createElement(Segment.Group, {\n            compact: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 171\n            },\n            __self: this\n          }, React.createElement(Segment, {\n            inverted: true,\n            color: \"blue\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 172\n            },\n            __self: this\n          }, React.createElement(\"center\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 173\n            },\n            __self: this\n          }, food.food_name)), React.createElement(Button.Group, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 175\n            },\n            __self: this\n          }, React.createElement(Button, {\n            food: food,\n            type: \"Cardapio\",\n            onClick: this.handleItemClick,\n            icon: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 176\n            },\n            __self: this\n          }, React.createElement(Icon, {\n            name: \"angle double left\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 182\n            },\n            __self: this\n          })), React.createElement(Button, {\n            disabled: true,\n            icon: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 184\n            },\n            __self: this\n          }, React.createElement(Icon, {\n            name: \"angle double right\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 185\n            },\n            __self: this\n          }))));\n        });\n        let tabela = React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, \" \", React.createElement(Table, {\n          collapsing: true,\n          celled: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }, React.createElement(Table.Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, React.createElement(Table.Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, React.createElement(Table.HeaderCell, {\n          width: 6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }, React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        }, \"Alimentos dispon\\xEDveis\")), React.createElement(Table.HeaderCell, {\n          width: 6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }, \"Card\\xE1pio\")))), React.createElement(Table.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }, React.createElement(Table.Row, {\n          textAlign: \"center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }, React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207\n          },\n          __self: this\n        }, TableDisponiveis), React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        }, TableCardapio)))));\n        return tabela;\n      } else return null;\n    };\n\n    this.handleItemClick = (e, {\n      direction,\n      food,\n      type\n    }) => {\n      let Disponiveis = this.state.Disponiveis;\n      let Cardapio = this.state.Cardapio;\n\n      if (type === \"Disponiveis\") {\n        Disponiveis.splice(Disponiveis.indexOf(food), 1);\n        Cardapio.push(food);\n        this.setState({\n          Disponiveis: Disponiveis,\n          Cardapio: Cardapio\n        });\n      }\n\n      if (type === \"Cardapio\") {\n        Cardapio.splice(Cardapio.indexOf(food), 1);\n        Disponiveis.push(food);\n        this.setState({\n          Cardapio: Cardapio,\n          Disponiveis: Disponiveis\n        });\n      }\n\n      this.handleCardapio(Cardapio);\n      this.props.handleCardapios(this.state.refeicao, Cardapio);\n      this.calcula_VNs(this.props.cardapios);\n    };\n\n    this.generateChart = () => {\n      let valorNutricional = this.state.valorNutricional;\n      let content;\n\n      if (valorNutricional) {\n        console.log(valorNutricional);\n        content = valorNutricional.map(valor => {\n          return React.createElement(Table.Row, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 243\n            },\n            __self: this\n          }, React.createElement(Table.Cell, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 244\n            },\n            __self: this\n          }, valor[0]), React.createElement(Table.Cell, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 245\n            },\n            __self: this\n          }, valor[1]));\n        });\n      }\n\n      let table = React.createElement(Table, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(Table.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, \"Infos locais\")), content);\n      return table;\n    };\n\n    this.searchFactor = comida => {\n      let factors = this.props.factors[this.props.refeicao];\n      return factors[comida];\n    };\n\n    this.setFactor = async (comida, event) => {\n      if (event) {\n        let factors = this.props.factors[this.props.refeicao]; //console.log(factors);\n\n        if (factors) {} else {\n          factors = {};\n        }\n\n        factors[comida.food_name] = event.target.value;\n        await new Promise(resolve => {\n          this.setState({\n            factors: factors\n          }, () => {\n            resolve();\n          });\n        });\n        this.handleCardapio(this.state.Cardapio);\n        this.props.handleFactors(this.props.refeicao, factors);\n        this.calcula_VNs(this.props.cardapios);\n      }\n    };\n\n    this.gerenateFactor = () => {\n      let cardapio = this.state.Cardapio;\n      let content;\n\n      if (cardapio) {\n        content = cardapio.map(comida => {\n          return React.createElement(Table.Row, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 292\n            },\n            __self: this\n          }, React.createElement(Table.Cell, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 293\n            },\n            __self: this\n          }, comida.food_name), React.createElement(Table.Cell, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 294\n            },\n            __self: this\n          }, React.createElement(Input, {\n            value: this.searchFactor(comida.food_name),\n            onChange: e => this.setFactor(comida, e),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 295\n            },\n            __self: this\n          })));\n        });\n      }\n\n      let table = React.createElement(Table, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      }, React.createElement(Table.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, \"Alimento\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, \"Quantidade (por\\xE7\\xF5es)\"), content));\n      return table;\n    };\n  }\n\n  render() {\n    let tabela = this.generateTable();\n    let chart = this.generateChart();\n    let fator = this.gerenateFactor();\n    const refeicao = this.props.refeicao;\n\n    if (tabela) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }, refeicaoMap[refeicao]), React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }, tabela), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }), React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }, fator), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }), React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }, chart));\n    } else return null;\n  }\n\n}\n\nexport default Refeicao;","map":{"version":3,"sources":["/home/omsf/Documentos/2.ITA/1. CES-28/3. Pratica/nutriplus/nutriplus_front/src/components/FoodSuggestions/Refeicao.jsx"],"names":["React","Component","Table","Segment","Button","Icon","Input","refeicaoMap","atributos_map","Carboidratos","Proteínas","Lipídios","Refeicao","state","Disponiveis","Cardapio","componentDidMount","setState","comidas_restantes","props","COMIDAS","cardapios","refeicao","valorNutricional","calcula_VN","factors","comidas","cardapio","map","comida","index","indexOf","splice","atributos","atributo","vn_val","food_name","vn","push","calcula_VNs_i","calcula_VNs","somaAtributos","handleInfos","valorNutricional1","valorNutricional2","i","length","componentDidUpdate","prevProps","handleCardapio","generateTable","TableDisponiveis","food","handleItemClick","TableCardapio","tabela","e","direction","type","handleCardapios","generateChart","content","console","log","valor","table","searchFactor","setFactor","event","target","value","Promise","resolve","handleFactors","gerenateFactor","render","chart","fator"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Table, Segment, Button, Icon, Input } from \"semantic-ui-react\";\n\nconst refeicaoMap = {\n  0: \"Café da manhã\",\n  1: \"Lanche da manhã\",\n  2: \"Almoço\",\n  3: \"Lanche da tarde\",\n  4: \"Jantar\",\n  5: \"Lanche da noite\"\n};\n\nconst atributos_map = {\n  \"Valor Energético (kCal)\": \"calories\",\n  Carboidratos: \"carbohydrates\",\n  Proteínas: \"proteins\",\n  Lipídios: \"lipids\"\n};\n/*\nconst foodmap = {\n  sushi: {\n    proteinas: 10,\n    gorduras: 50\n  },\n  abacaxi: {\n    proteinas: 1,\n    gorduras: 5\n  },\n  pimentao: {\n    proteinas: 0,\n    gorduras: 40\n  }\n};\n*/\nclass Refeicao extends Component {\n  state = {\n    Disponiveis: [],\n    Cardapio: []\n  };\n\n  componentDidMount = () => {\n    this.setState({\n      Disponiveis: this.comidas_restantes(\n        this.props.COMIDAS,\n        this.props.cardapios[this.props.refeicao]\n      ),\n      Cardapio: this.props.cardapios[this.props.refeicao],\n      valorNutricional: this.calcula_VN(\n        this.props.cardapios[this.props.refeicao]\n      ),\n      factors: this.props.factors[this.props.refeicao]\n    });\n  };\n\n  comidas_restantes = (comidas, cardapio) => {\n    cardapio.map(comida => {\n      var index = comidas.indexOf(comida);\n      if (index > -1) {\n        comidas.splice(index, 1);\n      }\n    });\n    return comidas;\n  };\n\n  calcula_VN = cardapio => {\n    let valorNutricional;\n    let factors = this.props.factors[this.props.refeicao];\n    let atributos = this.props.atributos;\n    atributos.map(atributo => {\n      let vn_val = 0;\n      cardapio.map(comida => {\n        vn_val =\n          vn_val + comida[atributos_map[atributo]] * factors[comida.food_name];\n      });\n      let vn = [atributo, vn_val];\n      if (valorNutricional) valorNutricional.push(vn);\n      else valorNutricional = [vn];\n    });\n    return valorNutricional;\n  };\n\n  calcula_VNs_i = (cardapio, index) => {\n    let valorNutricional;\n    let factors = this.props.factors[index];\n    let atributos = this.props.atributos;\n    atributos.map(atributo => {\n      let vn_val = 0;\n      cardapio.map(comida => {\n        vn_val =\n          vn_val + comida[atributos_map[atributo]] * factors[comida.food_name];\n      });\n      let vn = [atributo, vn_val];\n      if (valorNutricional) valorNutricional.push(vn);\n      else valorNutricional = [vn];\n    });\n    return valorNutricional;\n  };\n\n  calcula_VNs = cardapios => {\n    let valorNutricional;\n    cardapios.map((cardapio, index) => {\n      if (valorNutricional)\n        valorNutricional = this.somaAtributos(\n          valorNutricional,\n          this.calcula_VNs_i(cardapio, index)\n        );\n      else valorNutricional = this.calcula_VNs_i(cardapio, index);\n    });\n    this.props.handleInfos(valorNutricional);\n  };\n\n  somaAtributos = (valorNutricional1, valorNutricional2) => {\n    for (let i = 0; i < this.props.atributos.length; i++) {\n      valorNutricional1[i][1] =\n        valorNutricional1[i][1] + valorNutricional2[i][1];\n    }\n    return valorNutricional1;\n  };\n\n  componentDidUpdate = prevProps => {\n    if (prevProps.refeicao !== this.props.refeicao) {\n      this.setState({\n        Disponiveis: this.comidas_restantes(\n          this.props.COMIDAS,\n          this.props.cardapios[this.props.refeicao]\n        ),\n        Cardapio: this.props.cardapios[this.props.refeicao],\n        valorNutricional: this.calcula_VN(\n          this.props.cardapios[this.props.refeicao]\n        ),\n        factors: this.props.factors[this.props.refeicao]\n      });\n    }\n  };\n\n  handleCardapio = cardapio => {\n    this.setState({\n      valorNutricional: this.calcula_VN(cardapio)\n    });\n  };\n\n  generateTable = () => {\n    let Disponiveis = this.state.Disponiveis;\n    let Cardapio = this.state.Cardapio;\n    if (Disponiveis || Cardapio) {\n      let TableDisponiveis = Disponiveis.map(food => {\n        return (\n          <Segment.Group compact>\n            <Segment inverted color=\"green\">\n              <center>{food.food_name}</center>\n            </Segment>\n            <Button.Group>\n              <Button disabled icon>\n                <Icon name=\"angle double left\" />\n              </Button>\n\n              <Button\n                food={food}\n                type=\"Disponiveis\"\n                onClick={this.handleItemClick}\n                icon\n              >\n                <Icon name=\"angle double right\" />\n              </Button>\n            </Button.Group>\n          </Segment.Group>\n        );\n      });\n      let TableCardapio = Cardapio.map(food => {\n        return (\n          <Segment.Group compact>\n            <Segment inverted color=\"blue\">\n              <center>{food.food_name}</center>\n            </Segment>\n            <Button.Group>\n              <Button\n                food={food}\n                type=\"Cardapio\"\n                onClick={this.handleItemClick}\n                icon\n              >\n                <Icon name=\"angle double left\" />\n              </Button>\n              <Button disabled icon>\n                <Icon name=\"angle double right\" />\n              </Button>\n            </Button.Group>\n          </Segment.Group>\n        );\n      });\n      let tabela = (\n        <div>\n          {\" \"}\n          <Table collapsing celled>\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell width={6}>\n                  <center>Alimentos disponíveis</center>\n                </Table.HeaderCell>\n                <Table.HeaderCell width={6}>\n                  <center>Cardápio</center>\n                </Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n            <Table.Body>\n              <Table.Row textAlign=\"center\">\n                <Table.Cell>{TableDisponiveis}</Table.Cell>\n                <Table.Cell>{TableCardapio}</Table.Cell>\n              </Table.Row>\n            </Table.Body>\n          </Table>\n        </div>\n      );\n      return tabela;\n    } else return null;\n  };\n\n  handleItemClick = (e, { direction, food, type }) => {\n    let Disponiveis = this.state.Disponiveis;\n    let Cardapio = this.state.Cardapio;\n    if (type === \"Disponiveis\") {\n      Disponiveis.splice(Disponiveis.indexOf(food), 1);\n      Cardapio.push(food);\n      this.setState({ Disponiveis: Disponiveis, Cardapio: Cardapio });\n    }\n    if (type === \"Cardapio\") {\n      Cardapio.splice(Cardapio.indexOf(food), 1);\n      Disponiveis.push(food);\n      this.setState({ Cardapio: Cardapio, Disponiveis: Disponiveis });\n    }\n    this.handleCardapio(Cardapio);\n    this.props.handleCardapios(this.state.refeicao, Cardapio);\n    this.calcula_VNs(this.props.cardapios);\n  };\n\n  generateChart = () => {\n    let valorNutricional = this.state.valorNutricional;\n    let content;\n    if (valorNutricional) {\n      console.log(valorNutricional);\n      content = valorNutricional.map(valor => {\n        return (\n          <Table.Row>\n            <Table.Cell>{valor[0]}</Table.Cell>\n            <Table.Cell>{valor[1]}</Table.Cell>\n          </Table.Row>\n        );\n      });\n    }\n    let table = (\n      <Table>\n        <Table.Header>\n          <Table.HeaderCell>Infos locais</Table.HeaderCell>\n        </Table.Header>\n        {content}\n      </Table>\n    );\n    return table;\n  };\n\n  searchFactor = comida => {\n    let factors = this.props.factors[this.props.refeicao];\n    return factors[comida];\n  };\n\n  setFactor = async (comida, event) => {\n    if (event) {\n      let factors = this.props.factors[this.props.refeicao];\n      //console.log(factors);\n      if (factors) {\n      } else {\n        factors = {};\n      }\n      factors[comida.food_name] = event.target.value;\n      await new Promise(resolve => {\n        this.setState({ factors: factors }, () => {\n          resolve();\n        });\n      });\n      this.handleCardapio(this.state.Cardapio);\n      this.props.handleFactors(this.props.refeicao, factors);\n      this.calcula_VNs(this.props.cardapios);\n    }\n  };\n\n  gerenateFactor = () => {\n    let cardapio = this.state.Cardapio;\n    let content;\n    if (cardapio) {\n      content = cardapio.map(comida => {\n        return (\n          <Table.Row>\n            <Table.Cell>{comida.food_name}</Table.Cell>\n            <Table.Cell>\n              <Input\n                value={this.searchFactor(comida.food_name)}\n                onChange={e => this.setFactor(comida, e)}\n              ></Input>\n            </Table.Cell>\n          </Table.Row>\n        );\n      });\n    }\n    let table = (\n      <Table>\n        <Table.Header>\n          <Table.HeaderCell>Alimento</Table.HeaderCell>\n          <Table.HeaderCell>Quantidade (porções)</Table.HeaderCell>\n          {content}\n        </Table.Header>\n      </Table>\n    );\n    return table;\n  };\n\n  render() {\n    let tabela = this.generateTable();\n    let chart = this.generateChart();\n    let fator = this.gerenateFactor();\n    const refeicao = this.props.refeicao;\n    if (tabela) {\n      return (\n        <div>\n          <h2>{refeicaoMap[refeicao]}</h2>\n          <center>{tabela}</center>\n          <br></br>\n          <br></br>\n          <center>{fator}</center>\n          <br></br>\n          <br></br>\n          <center>{chart}</center>\n        </div>\n      );\n    } else return null;\n  }\n}\n\nexport default Refeicao;\n"]},"metadata":{},"sourceType":"module"}