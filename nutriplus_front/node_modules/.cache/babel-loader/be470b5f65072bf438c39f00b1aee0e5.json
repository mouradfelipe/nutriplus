{"ast":null,"code":"var _jsxFileName = \"/home/omsf/Documentos/2.ITA/1. CES-28/3. Pratica/nutriplus/nutriplus_front/src/containers/Patients/Patient/Patient.js\";\nimport React, { Component } from \"react\";\nimport { Button } from \"semantic-ui-react\";\nimport { sendAuthenticatedRequest } from \"../../../utility/httpHelper\";\nimport Paginator from \"../../../utility/paginator\";\nimport classes from \"./Patient.module.css\";\n\nclass Patient extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      recordQueryInfo: null,\n      info: null,\n      error: null,\n      hasNext: false,\n      hasPrevious: false\n    };\n\n    this.componentDidMount = async () => {\n      const params = this.props.match.params;\n      sendAuthenticatedRequest(\"http://localhost:8080/patients/get-info/\" + params[\"id\"] + \"/\", \"get\", message => this.setState({\n        error: message\n      }), info => this.setState({\n        info: info\n      }));\n      sendAuthenticatedRequest(\"http://localhost:8080/patients/get-records/\" + params[\"id\"] + \"/\", \"get\", message => {\n        this.setState({\n          error: message\n        });\n      }, recordInfo => this.setState({\n        recordQueryInfo: recordInfo,\n        hasPrevious: false,\n        hasNext: recordInfo.next !== null\n      }));\n    };\n  }\n\n  render() {\n    const params = this.props.match.params;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, this.state.error ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, this.state.error) : null, this.state.info ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, this.state.info.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Data de nascimento: \", this.state.info.date_of_birth), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Restri\\xE7\\xF5es alimentares:\", \" \", this.state.info.food_restrictions.length === 0 ? \"Não há\" : this.state.info.food_restrictions.reduce((bigString, elem, index, arr) => bigString + elem.food_name + (index === arr.length - 1 ? \"\" : \", \"), \"\"))) : null, React.createElement(Button, {\n      color: \"teal\",\n      size: \"small\",\n      onClick: () => this.props.history.push(\"/pacientes/\" + params[\"id\"] + \"/criar-ficha\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Criar ficha para o paciente\"), this.state.recordQueryInfo ? React.createElement(\"div\", {\n      className: classes.records,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Paginator, {\n      queryResults: this.state.recordQueryInfo,\n      filter: () => true,\n      listElementMap: record => React.createElement(\"div\", {\n        key: record.id,\n        onClick: () => this.props.history.push(\"/pacientes/\" + params[\"id\"] + \"/ficha/\" + record.id),\n        className: classes.record,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Modificado em: \", record.date_modified), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Peso: \", record.corporal_mass), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Altura: \", record.height), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"IMC: \", record.BMI))),\n      setResults: recordInfo => this.setState({\n        recordQueryInfo: recordInfo\n      }),\n      setHasNext: value => this.setState({\n        hasNext: value\n      }),\n      setHasPrevious: value => this.setState({\n        hasPrevious: value\n      }),\n      setMessage: message => this.setState({\n        error: message\n      }),\n      hasPrevious: this.state.hasPrevious,\n      hasNext: this.state.hasNext,\n      buttonSize: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    })) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Ainda n\\xE3o h\\xE1 uma ficha para esse paciente!\"));\n  }\n\n}\n\nexport default Patient;","map":{"version":3,"sources":["/home/omsf/Documentos/2.ITA/1. CES-28/3. Pratica/nutriplus/nutriplus_front/src/containers/Patients/Patient/Patient.js"],"names":["React","Component","Button","sendAuthenticatedRequest","Paginator","classes","Patient","state","recordQueryInfo","info","error","hasNext","hasPrevious","componentDidMount","params","props","match","message","setState","recordInfo","next","render","name","date_of_birth","food_restrictions","length","reduce","bigString","elem","index","arr","food_name","history","push","records","record","id","date_modified","corporal_mass","height","BMI","value"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Button } from \"semantic-ui-react\";\nimport { sendAuthenticatedRequest } from \"../../../utility/httpHelper\";\nimport Paginator from \"../../../utility/paginator\";\nimport classes from \"./Patient.module.css\";\n\nclass Patient extends Component {\n  state = {\n    recordQueryInfo: null,\n    info: null,\n    error: null,\n    hasNext: false,\n    hasPrevious: false\n  };\n\n  componentDidMount = async () => {\n    const params = this.props.match.params;\n    sendAuthenticatedRequest(\n      \"http://localhost:8080/patients/get-info/\" + params[\"id\"] + \"/\",\n      \"get\",\n      message =>\n        this.setState({\n          error: message\n        }),\n      info => this.setState({ info: info })\n    );\n    sendAuthenticatedRequest(\n      \"http://localhost:8080/patients/get-records/\" + params[\"id\"] + \"/\",\n      \"get\",\n      message => {\n        this.setState({\n          error: message\n        });\n      },\n      recordInfo =>\n        this.setState({\n          recordQueryInfo: recordInfo,\n          hasPrevious: false,\n          hasNext: recordInfo.next !== null\n        })\n    );\n  };\n\n  render() {\n    const params = this.props.match.params;\n    return (\n      <div>\n        {this.state.error ? <p>{this.state.error}</p> : null}\n        {this.state.info ? (\n          <div>\n            <h3>{this.state.info.name}</h3>\n            <p>Data de nascimento: {this.state.info.date_of_birth}</p>\n            <p>\n              Restrições alimentares:{\" \"}\n              {this.state.info.food_restrictions.length === 0\n                ? \"Não há\"\n                : this.state.info.food_restrictions.reduce(\n                    (bigString, elem, index, arr) =>\n                      bigString +\n                      elem.food_name +\n                      (index === arr.length - 1 ? \"\" : \", \"),\n                    \"\"\n                  )}\n            </p>\n          </div>\n        ) : null}\n        <Button\n          color=\"teal\"\n          size=\"small\"\n          onClick={() =>\n            this.props.history.push(\n              \"/pacientes/\" + params[\"id\"] + \"/criar-ficha\"\n            )\n          }\n        >\n          Criar ficha para o paciente\n        </Button>\n        {this.state.recordQueryInfo ? (\n          <div className={classes.records}>\n            <Paginator\n              queryResults={this.state.recordQueryInfo}\n              filter={() => true}\n              listElementMap={record => (\n                <div\n                  key={record.id}\n                  onClick={() =>\n                    this.props.history.push(\n                      \"/pacientes/\" + params[\"id\"] + \"/ficha/\" + record.id\n                    )\n                  }\n                  className={classes.record}\n                >\n                  <p>\n                    <span>Modificado em: {record.date_modified}</span>\n                    <span>Peso: {record.corporal_mass}</span>\n                    <span>Altura: {record.height}</span>\n                    <span>IMC: {record.BMI}</span>\n                  </p>\n                </div>\n              )}\n              setResults={recordInfo =>\n                this.setState({ recordQueryInfo: recordInfo })\n              }\n              setHasNext={value => this.setState({ hasNext: value })}\n              setHasPrevious={value => this.setState({ hasPrevious: value })}\n              setMessage={message =>\n                this.setState({\n                  error: message\n                })\n              }\n              hasPrevious={this.state.hasPrevious}\n              hasNext={this.state.hasNext}\n              buttonSize=\"large\"\n            />\n          </div>\n        ) : (\n          <p>Ainda não há uma ficha para esse paciente!</p>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Patient;\n"]},"metadata":{},"sourceType":"module"}